<h1>*Attack*<span class="mobile-breaking-space"></span>Rhythm</h1>

<div class="image-container">
	<img class="standalone-image" style="width: 250px;" src="images/boba-attack.gif" draggable="false" />
</div>

<div class="paragraph-container">
	<p>This is a small but important gameplay touch that, paired with the firing animations, took the frustration out of 
		repeating blaster shots. We needed to prevent input spamming, and make attacks feel natural across characters 
		with different firing rates. (Chewbacca, for instance, has the slowest but strongest blaster attack.) 
	</p>
</div>

<div class="figure-container">
	<div class="figure">	
		<div class="code-sample">
			<pre class="csharp"
				style="tab-size: 4; font-family: 'Consolas', 'Inconsolata', 'Courier New', monospace;">
// Called every frame
private void Update()
{
	float currentTime = Time.time;

	// If the player tries to fire slightly before the animation clip ends, 
	// hold onto the input anyway to allow a little bit of tolerance. 
	_shouldFire |= (
		_gameplayInput.AttackPressedThisFrame &&
		currentTime >= (_intervalExpirationTime - _repeatShotBufferTime)
	);

	// Fire when ready, and consume the input. 
	if (_shouldFire && currentTime >= _intervalExpirationTime)
	{
		_shouldFire = false;
		FireBolt();
	}
}</pre>
		</div>
		<div class="separator" style="border-color: whitesmoke;"></div>
		<div class="label-container footer">
			<p>Blaster input polling.</p>
		</div>
	</div>
</div>

<div class="paragraph-container">
	<p>The <code>_intervalExpirationTime</code> is there for input spam defense. Each time a character fires a shot, that variable is 
		recalculated as the current time plus the duration of that character's shot animation. To make it feel natural to chain 
		multiple shots together, <code>_repeatShotBufferTime</code> registers player input even if it's slightly before the 
		previous shot's animation completes. Taken together (and along with some nice animations), it looks and feels natural to 
		settle into a rhythm with each character's unique firing rate. 
	</p>
</div>

<div class="EOF">
	<div class="image-container"></div>
</div>
